<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function partition(arr, begin, end) {
            let pivot = arr[begin];
            while (begin < end) {
                while (begin < end && arr[end] >= pivot) end--
                arr[begin] = arr[end];
                while (begin < end && arr[begin] <= pivot) begin++
                arr[end] = arr[begin];
                // [arr[begin], arr[end]] = [arr[end], arr[begin]];
            }
            arr[begin] = pivot;
            return begin;
        }

        var findKthLargest = function (nums, k) {
            let i = partition(nums, 0, nums.length - 1);
            let target = nums.length - k;
            while (i !== target) {
                if (i < target) {
                    i = partition(nums, i + 1, nums.length - 1)
                } else if (i > target) {
                    i = partition(nums, 0, i - 1)
                }
            }
            return nums[i];
        };
    </script>
</body>

</html>