<script>
    
    // const flatten = (arr) => {
    //     let result = [];
    //     arr.forEach((item, i, arr) => {
    //         if (Array.isArray(item)) {
    //             result = result.concat(flatten(item));
    //         } else {
    //             result.push(arr[i])
    //         }
    //     })
    //     return result;
    // };

    // const arr = [1, 2, 3, 4, [4, [5, [6]]]];
    // console.log(flatten(arr));
    
  let arr = [1, 2, 3, [4, [5, [6]]]];
  function flat(arr) {
    let res = []
    function walk(myarr) {
      for (let i = 0; i < myarr.length; i++) {
        if (Array.isArray(myarr[i])) {
          walk(myarr[i])
        } else {
          res.push(myarr[i])
        }
      }
    }
    walk(arr)
    return res;
  }
  console.log(flat(a));
</script>

